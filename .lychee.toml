# Lychee link checker configuration
# See: https://lychee.cli.rs/
#
# IMPORTANT: Run lychee with --base-url to resolve repo-relative paths:
#   lychee --base-url "file://$PWD" .
#
# This is required because the codebase uses /docs/... style links
# (repository-relative) which lychee interprets as filesystem root.

# Exclude external paths that we can't control
exclude = [
  # Temp directories (research artifacts from scratch investigations)
  "^file:///tmp/",
  # External repo references (gapless-crypto-data is a separate package)
  "^file:///Users/.*/gapless-crypto-data/",
  # Full absolute paths that should have been relative
  "^file:///Users/.*/gapless-network-data/",
]

# Skip these file patterns
exclude_path = [
  # Cache files
  ".lycheecache",
  ".lychee-results.*",
  # Build artifacts
  "dist/",
  "node_modules/",
  "__pycache__/",
  ".pytest_cache/",
]

# Timeout for network requests (seconds)
timeout = 30

# Accept these status codes as valid
accept = [200, 204, 206]

# Max concurrent requests
max_concurrency = 32

# Don't check mail addresses (reduces noise)
include_mail = false

# Cache results for faster subsequent runs
cache = true
max_cache_age = "1d"

# Lychee link checker configuration
# See: https://lychee.cli.rs/
#
# Usage: ./scripts/lint-links.sh [--offline] [path]
# The script uses --root-dir to resolve /docs/... repo-relative links.

############################# Features ##############################
offline = true              # Only check local files (no network requests)
no_progress = true          # Required for non-interactive shells
include_fragments = true    # Validate anchor fragments (#section)
include_verbatim = false    # Skip code blocks

# Exclude URLs that are external or temporary
exclude = [
  # Temp directories (research artifacts from scratch investigations)
  "^file:///tmp/",
  ".*/tmp/.*",
  # Scratch directories (transient research, moved to docs/archive/)
  ".*/scratch/.*",
  # External repo references (gapless-crypto-data is a separate package)
  ".*/gapless-crypto-data/",
  # Pending documentation (marked as ðŸš§ PENDING in INDEX.md)
  ".*/docs/development/COMMANDS.md",
  ".*/docs/development/SETUP.md",
  ".*/docs/development/PUBLISHING.md",
  ".*/docs/architecture/OVERVIEW.md",
]

# Skip these file patterns
exclude_path = [
  # Cache files
  ".lycheecache",
  ".lychee-results.*",
  # Build artifacts
  "dist/",
  "node_modules/",
  "__pycache__/",
  ".pytest_cache/",
]

# Timeout for file operations (seconds)
timeout = 5

# Max concurrent operations
max_concurrency = 4

# Don't check mail addresses
include_mail = false

# Cache results for faster subsequent runs
cache = true
max_cache_age = "1d"
